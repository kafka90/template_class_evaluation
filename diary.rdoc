********2016년 1-2월 강의평가 개발노트*********
(날짜,이름,작업내용 형식으로 적어주세요)

1/27 이종진 : 1)각종 gem파일 설치 
              2)devise설치 및 메일인증 시스템 구현완료 
              3)로그인 front페이지 구현


1/28 이종진 : 1)Evaluation DB 추가생성(강의평가기록 저장용도) 
              2)강의평가페이지 bar rating 추가


1/29 이종진 : 1)Myeval DB 추가생성(나의 강의평 저장용도) 
              2)나의 강의평가 모으기 구현중
              3)로그인페이지에서 이메일이 아닌 성대id로 로그인하도록 만들어보다가 실패->의외로 고려해야할 사항이 많음
                -->회원가입시 email입력 없이 가입되도록 만드는 것은 가능함 
                    -하지만 첫번째 user의 가입은 문제없으나 두번째 user의 가입부터 에러발생함(unique어쩌고 저쩌고..)
                    -devise자체 에서 email field를 회원간 식별키로 사용하는 것 같음
                    -따라서 devise를 사용할거라면, 회원가입시 email입력을 받는 것이 필요해보임. 
                     분명 에러를 해결할 방법이 있겠으나 복잡할 것 같다..
                
                -->그래서 이메일은 그대로 입력받되, 입력받은 이메일에서 id부분만 추출하여 skku_id필드에 저장하는것이 현명할듯
                    -현재 구현된 시스템에서는 skku_id필드에 id부분을 추출하여 저장하는 기능이 "학교인증"페이지로 넘어가야만 작동함
                    -그런데 이 작업의 경우 회원가입과 동시에 이루어져야 함
                    -왜냐? 그래야만 회원가입->메인페이지->로그아웃->다시로그인이 가능해지기 때문(학교인증페이지를 방문하지 않은 회원도 사이트 로그인은 가능해야한다는 뜻) 
                    -따라서 회원가입완료->main페이지로 진입할경우에 바로 skku_id를 추출해내는 기능이 작동하도록 코드를 넣어보았는데 에러발생(argument에러)
                    -에러의 이유만 확인할 수 있으면 바로 구현이 가능해질듯함
                    

1/31 태훈: 1) 로그인페이지 성대id로 로그인하기 구현?
                1. user.rb에 validate 제거 및 validation 추가 -> 수정할 필요가 있을 듯. devise/models/validatable.rb에 있는 내용과 무척 다르나
                이 파일에 접근하는 법을 모르겠음...... 즉 validation을 customizing이 가능하나 기존 devise의 validate기능을 아예 제거 후 커스터마이징
                하는 것이기 때문에 불완전함. 기존 devise의 validate기능에 접근해서 약간의 수정을 가하는 방법이 제일 좋을 듯
                   
                    validation customizing form
                      validates_uniqueness_of    :email,     :case_sensitive => false, :allow_blank => true, :if => :email_changed?
                      validates_format_of    :email,    :with  => Devise.email_regexp, :allow_blank => true, :if => :email_changed?
                      validates_presence_of    :password, :on=>:create
                      validates_confirmation_of    :password, :on=>:create
                      validates_length_of    :password, :within => Devise.password_length, :allow_blank => true
                      
                2. application_controller.rb에 :i_d permit 가능 추가
                3. devise.rb -> config.authentication_keys = [:i_d]
                4. User DB -> # add_index :users, :email,                unique: true
                5. registrations_controller.rb -> def create -> :i_d로 만들시 자동으로 :email 생성

            2)자동완성기능
                깃헙에서 아예 따와서 다른 저장소에서 했을 땐 됨
                코드를 배껴와서 강의평가에 적용하려니 잘 되지 않음...
                무엇이 문제인지 모르겠음. 
                처음부터 끝까지 파일 하나 하나를 비교해 보았으나 차이점을 찾지 못함
                아마 단어를 통일하지 못해서 그런 거 같음
                단어를 통일해서 다시 시도해 볼 예정.


2/1 정운 : 공지사항 게시판 만듬기....이시부랄 전에 만들땐 한시간도 안걸린거같은데.....
           수정사항 : (여기에 수정할 부분 적어주세요)
                      종진: 운이형 글쓰기버튼 관리자만 보이도록 코드 추가하고 일단 주석처리 해놓았습니다 
                            User.authentication == 3 이면 관리자에요 (/db/migrate/users.rb 참고)
     
                            
2/1 이종진 : 1)나의 강의평가 모아보기 구현완료(메인-->'나의 강의평가' 가면 볼 수 있음)
   
             
2/2 이종진 : 1) 공지사항 게시판(notice_board.erb / notice_detail.erb / notice_write.erb ) 레이아웃 및 디자인 수정 
             2) myinfo페이지 디자인 수정
             3) 킹고포털ID로 로그인 가능
             4) _navbar.erb 생성 및 디자인 완료 
             5) 각종 메뉴 navbar로 이동 : 각 메뉴가 hover됐을때 background-color가 흰색으로되는 것 누가좀 고쳐주세요
                    -->성중이가 수정완료
                       문제의 원인은 /views/layouts/application.html.erb에 링크로 걸어둔 bootstrap의 css와
                       /asset/stylesheets/bootstrap.css에 저장된 css가 서로 충돌되어 발생하는 문제였음
                       따라서 bootstrap.css를 직접 stylesheets에 저장하여 사용하는 경우엔 bootstrap링크를 사용하지 않는 것이 좋음
             5) 메인페이지 최근강의평(6개 출력) --> 별점 및 막대바로 평가정보 출력되도록 구현 ( 추후 myinfo페이지 역시 별점 및 막대바 추가할 예정 )
             6) 평가페이지에 "수강학기" input 추가 ( Evaluation db에도 필드 추가함 ) --> 추후 최근 수강학기 강의평부터 역순으로 출력 가능할듯? 
                                                                                         혹은 수강학기별 탭을 만들어서 사용자가 클릭하여 볼 수 있도록 구현이 가능해보임
  
             
2/3 이종진 : 1) 학교인증 페이지 디자인 수정 --> 학교인증이 실패했을때 인증코드 input창 사이즈 및 버튼은 아직 수정안함. 추후예정 
             2) Evaluation DB에 작성자관련정보 저장하는 필드 추가 => 강의평가 출력시 평가자의 이름,학번도 출력되도록 만들었음 / 학변은 년도까지만 출력후 별표처리 
             3) 나의 강의평 페이지에서도 강의평가정보가 별점, 막대바로 표시되도록 구현함
             4) 나의 강의평 페이지에서 자신의 강의평가를 수정할 수 있도록 구현함
             5) 자신의 user정보를 수정할 수 있도록 구현함-->(메인페이지 '내정보' 옆 수정버튼)
                현재는 일단 자신의 이름만 수정가능하도록 만들어놓았음
  
             
2/3 전태훈 : 1) navbar 검색기능에 자동완성 추가 
                1-1 navbar에만 넣었더니 다른 페이지 이동시 안되는 문제 발생(css랑 같은 원리인 듯)
                    페이지마다 넣음.(강의평가 작성, 나의 강의평가, 메인)-> 은 강의평가 작성에서 메인페이지로 넘어올 때 새로고침 하지 않으면 안됨. 문제 파악 필요..? 
             2) 강의평가 화면 강의명 자동완성 추가
             3) 검색 화면과 강의 평가 글들 연결 예정


2/4 김성중 : 1) 회원가입페이지 디자인 수정
             2) 실시간채팅(유챗) 삽입완료 
                --> 추후 채팅창과 유저db와의 연동( 유저의 이름이 채팅창의 닉네임으로 들어갈 수 있도록 / 관리자권한의 유저는 채팅창에서도 관리자일 수 있도록 )
                --> 로고를 클릭하여 메인페이지로 넘어갔을시 채팅창이 안뜨는 문제가 있음.. 보완이 필요할듯
                        -->종진 : 해결완료
                --> 유챗도 좋지만 자소설닷컴같은 느낌의 채팅창이 BEST. 조금 더 고안해보아야 할듯
             
             
2/4 이종진 : 1) 성균인 인증여부 & 강의글 갯수에 따라 강의 검색 제한/허용 하는 기능 구현중
             2) 성중이가 해놓은 회원가입페이지 디자인 수정
             3) 회원가입할때 학번입력을 10자로 제한하고싶은데 어떻게해야할까? 비밀번호같은경우엔 devise에서 자체적으로 8자이상으로 제한됨
                --> 따라서 비번길이 제한하는 기능을 좀 이용해보면 될거같음 
                --> /config/initializers/devise.rb에 
                    config.std_num_length = 8 이라고 직접 삽입해보니까 에러발생함
     
                    
2/4 전태훈 : 1) 학번제한기능 -> user.rb -> validates_length_of :std_num, is:10, message: "학번이 맞지 않습니다"
             2) validate시 db명이 뜨는 문제 -> en.yml에서   activerecord:
                                                              attributes:
                                                                    user:
                                                                 std_num: ""
                추가로 std_num이라는 db명을 없앰.
                
                
2/5 이종진 : 1) 성균인 인증여부 & 강의평가 갯수 3개이상 여부에 따라 검색 제한/허용 기능 구현완료
             2) 페이지별로 새로고침을 눌러야만 css혹은 채팅창이 나오는 문제 해결완료
                --> css나 script를 로딩해오는데서 발생하는 문제이므로 공통 헤더부분(application.html.erb)에 링크형태로 css나 script를 삽입해주면 해결됨
             3) 메인페이지 공지사항 --> 미니게시판식으로 수정하여 구현완료(최근 등록된 공지사항을 3개까지 게시판형식으로 제목만 보여줌 --> 클릭하면 공지사항게시판 디테일페이지로 이동)

                
2/5 전태훈 : 1)검색결과와 db 연결, subject와 evaluations 연결
             2)강의평가화면 subject id value 자동완성 추가
          
             
2/5 김성중 : 1)aside 삽입시 공백 생기던 문제 해결 -> 컨테이너 안을 section / aside로 분리하여 해결


2/6 이종진 : 1)페이지별로 채팅창 위치 이상하게 뜨던 문제 해결함 : a태그 --> 스크립트로 변경
             2)검색결과페이지 디자인 수정
             3)강의평가시 별점 0.5점 단위였던거 -> 1개단위로 수정 / 메인에 찍어낼때 정수로 통일되는게 깔끔.. 
             4)실시간채팅에서 회원명으로 채팅가능하도록 수정
             5)contact페이지 구현 : 서비스시 보완사항 혹은 예상치못한 버그들을 report받기 위한 용도로 활용하기 위함
             6)aside가 안 들어가있던 페이지에 aside 빠짐없이 보충해 넣음
             7)강의평가 등록시 수강학기 직접 글로 작성하던 것 --> 드롭다운에서 option선택하는 방식으로 교체


2/6 정운   : 1) 디테일 페이지 배치가 이상해짐.... ㅠㅠ
                --> 종진 : 수정완료(div태그를 코드 하단 부분에서 제대로 닫아주지 못한 문제였음)
             
                
2/6 전태훈 : 1) 평가창 별점 5개로 자동체크되는 거 수정 </label>이 안 닫혀 있었음
             2) 검색결과창 별점 수정
             3) 자동완성 안되는 페이지들 수정
             
             
2/7 김성중 : 1) sign_up 페이지에서는 https를 사용하게 하고/ 로그인 후 메인페이지 이후로는 http를 사용하게 함
                -> 자바스크립트 코드로 변경
                //   http -> https로 바꾸기
              $(function(){
                  if(window.location.protocol != 'http:') {
                  location.href = location.href.replace("https://", "http://");
                }});
             2) 로그아웃 후 http://likelion-skkuev-jongjin-lee.c9users.io/main/main 로 접속했을 때 오류 뜨는 에러 해결 -> main controller에 코드 추가 


2/7 이종진 : 1) 강의 검색결과창에서 평가하기버튼으로 강의평가페이지로 넘어간경우, 해당 과목명이 text형태로 삽입되던것을 고정값(유저가 다른 과목명으로 바꾸지 못하게)으로 변경하였음
             2) 강의 검색결과창에서 이전에 내가 강의평가를 등록했던 강의인 경우, 평가하기버튼 대신 "평가완료"가 출력되도록 수정함 --> 같은 강의에 대한 중복평가를 방지하기 위함
             3) 각 페이지에 유저가 로그아웃 상태로 접속했을때 로그인페이지로 redirect되도록 조건문 삽입함
             
             
2/8 이종진 : 1) 강의 검색결과창에서 아직 평가가 없는 강의인경우, 해당 강의의 lecture_info페이지로 넘어가지 못하게 구현.
             2) 강의 검색결과창에 "분류"탭을 추가함. 전공 or 교양 을 출력하게될것. 현재는 일단 grid비율을 확인하기위해  모든과목이 "전공"으로 출력되게 만들었음
             3) lecture_info페이지에 최근등록순/높은평점순/최근1년강평 탭 삽입하여 구현중.. 
             
             
2/9 이종진 : 1) lecture_info페이지 탭별 강의평가보기 구현 완료
             2) lecture_info페이지 평균데이타 출력 section 디자인(허접해서 추후 보완이 필요해보임)

             
2/10 전태훈: 1) 페이지네이션 구현
             2) 비밀번호찾기 구현
                -->수작업으로 하려 했으나 비밀번호 변경후 저장이 안됨. 아마 안되게 해놓은 듯..??
                -->디바이스이용
                템플릿 변경 예정

                
2/10 김성중 : 1) 전공 + 교양 csv로 변환후 db에 업로드 / 중복 제거 평가기준이 교수 + 과목명


2/11 전태훈 : 1) 교양 탭별 검색기능 구현
                 --> 페이지 넘어갈 시 깨짐 -> 검색단어도 같이 넘어가게 할 예정
              2) 검색창 디자인

              
2/11 김성중 : 1) 메인 최근 강의평 section 디자인 / 강의평가 표에 그림자 추가 / 평가시간 년월일달아서 출력/ 교수 강의명을 표 위로 위치변경


2/11 이종진 : 1)메인 최근강의평 section 디자인
                 --> 강의명과 교수명을 함께 evaluation에 저장하던 것을 따로 분리하여 저장 --> 각각 다른 font로 출력 가능
                 --> 사용자가 등록한 강의평이 420자가 넘어가는 경우 grid안에서 길다랗게 한 문단으로 출력되던 것 해결 


2/12 이종진 : 1)메인 mini공지게시판 디자인 
                --> 포토샵으로 background image를 간단하게 작업해서 넣어보았는데 그닥..
                --> 따라서 일단 현재 구현되어있는 공지 게시판 form을 일단 그대로 씌워놓았음

    
2/12 정운 :  1) 로그인 페이지 로그인 버튼을 이미지로 넣고 가운데로 옮기고 싶은데...그 f.submit이 뭔지 모르게져
                --> 종진 : 수정했습니다

             
2/12 김성중 : 1) 비밀번호 찾기 페이지 디자인 / 메일가는 내용 변경(likelionskku@gmail.com 으로 발신자 지정 및 메일 제목 변경)
              2) 비밀번호 변경 페이지 디자인

              
2/13 이종진 : 1)로그인 페이지 디자인 이미���대로 구현
              2)일단 메인페이지만 디자인 이미지대로 색만 간단하게 바꾸어봄
              3)navbar에 일단 한글로고만 잘라서 넣어놓았음 --> navbar로고에대해서 이야기를 나누어볼 필요가 있음


2/13 전태훈 : 1)교양검색기능 구현
                -->난이도, 학점 등 다른 순으로도 볼 수 있게 함

                
2/14 이종진&김성중 : 1)메인페이지 및 사이트 전반적인 색감 조절
                     2)기존 '내 강의평가' 수정기능 보완 
                     3)기존 '내 정보수정(닉네임)'을 modal로 재구현 --> 중복 닉네임체크 기능은 아직(현재 주석처리해놓음)
                     4)회원가입시 개인정보약관 추가  ---> 약관동의 jquery 삽입(2.15)
                     5)채팅방 닉네임변경 제한 & 폰트 컬러 및 사이즈 조절 제한
            

2/15 이종진 : 1)막대바 색 변경
              2)각 강의평가 하단에 신고버튼 구현중
              3)internet explorer <-> chrome 호환성 문제 어느정도 해결함 
                -->남은거? IE환경에서 별점 크기, 웹폰트, 로그인페이지 id,비밀번호 input박스에 있는 hr 수정해야함
                -->그리고 해상도마다 로그인페이지의 box위치가 가운데가 아닌 문제도 해결해야함

                ======남은일=====
                1. 전체적인 색상 및 디자인 확인
                2. 2016-1 수업리스트 디비에 보충
                3. 윈도우 익스플로러 환경에서의 웹디자인 보완(별점크기)
                    -->종진 : 폰트적용 완료
                4. 회원가입시 이용약관 수정
                5. 해상도마다 로그인페이지의 box위치가 가운데가 아닌 문제해결(태훈)
                
                
2/18 이종진 : 1)강의평가 작성페이지에서 aside2를 aside3(강의평가 작성관련 안내)으로 대체
              2)불량 강의평가 신고기능 구현 완료

            
2/18 김성중 : 1)회원가입페이지 아이디 중복 / 닉네임 중복을 alert창으로 바꿈/ -- 중복확인기능 추가(조금수정해야함...)
              helpers/devise_helper.rb   layouts/_messages.html.erb      stylesheets/custom.css.scss    추가
              2) application.erb에 <meta name="viewport" content="width=1280"> 추가

              
2/19 이종진 : 1)system/lecture_info 페이지에 원형프로그레스바 구현 완료--> 배치 및 디자인 보완할 예정 
              2)학번 앞 6자리가 201631(새내기신입생)이면 바로 사용권한 갖도록 수정함


2/21 김성중 : 1)navbar2 코드 정리해서 분리 시킴 -> 네브바 수정완료 1260 이하로 왼쪽으로 붙게함
              2)footer.erb 생성

2/21 이종진 : == 오류발견 ==
              1)교양순위 페이지 탭 --> 갑자기 또 안됨 ( lecture_info의 탭은 잘 작동됨 )
              2)교양순위 페이지에서 총점순 탭이 아닌 강의난이도/성취감/학점만족도순 탭에서 2~3페이지로 넘기면 다시 총점순 탭으로 되돌아감
              3)페이지 클릭해서 넘어가면 해당 페이지에 해당하는 숫자가 파란색이나 빨간색으로 표시되게 바꿔야할듯